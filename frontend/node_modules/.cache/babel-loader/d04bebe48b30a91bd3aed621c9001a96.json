{"ast":null,"code":"import axios from 'axios';\nimport { CREATE_POST, POST_ERROR, POST_SUCCESS, GET_MYPOSTS, FETCH_SUCCESS, NOT_FETCHED } from './PostTypes.js';\nexport const creating = post => {\n  return function (dispatch, getState) {\n    //const check=getState();\n    //console.log(\"check \",check);\n    const {\n      AuthReducer: {\n        token\n      }\n    } = getState(); //console.log(token);\n\n    dispatch(create());\n    var config = {\n      method: 'post',\n      url: 'http://localhost:5000/post/createpost',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data'\n      },\n      data: post\n    };\n    axios(config).then(function (response) {\n      console.log(\"response:\", response);\n      dispatch(createdone(response.data.message));\n    }).catch(function (error) {\n      console.log(\"errors are:\", error.response);\n      dispatch(createerror(error.response.data.errors));\n    });\n  };\n};\nexport const myposts = id => {\n  return function async(dispatch, getState) {\n    const {\n      AuthReducer: {\n        token\n      }\n    } = getState();\n    dispatch(getting());\n    var config = {\n      method: 'get',\n      url: `http://localhost:5000/post/myposts/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios({\n      method: 'GET',\n      url: `http://localhost:5000/post/myposts/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(resp => {\n      console.log(resp.data);\n    }).catch(err => {\n      // Handle Error Here\n      console.error(err);\n    });\n  };\n};\n\nconst create = () => {\n  return {\n    type: CREATE_POST\n  };\n};\n\nconst createdone = success => {\n  return {\n    type: POST_SUCCESS,\n    payload: success\n  };\n};\n\nconst createerror = error => {\n  return {\n    type: POST_ERROR,\n    payload: error\n  };\n};\n\nconst getting = () => {\n  return {\n    type: GET_MYPOSTS\n  };\n};\n\nconst fetched = posts => {\n  return {\n    type: FETCH_SUCCESS,\n    payload: posts\n  };\n};","map":{"version":3,"sources":["D:/data1/MERNblog/frontend/src/redux/actions/PostAction.js"],"names":["axios","CREATE_POST","POST_ERROR","POST_SUCCESS","GET_MYPOSTS","FETCH_SUCCESS","NOT_FETCHED","creating","post","dispatch","getState","AuthReducer","token","create","config","method","url","headers","Authorization","data","then","response","console","log","createdone","message","catch","error","createerror","errors","myposts","id","async","getting","resp","err","type","success","payload","fetched","posts"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {CREATE_POST,POST_ERROR,POST_SUCCESS,GET_MYPOSTS,FETCH_SUCCESS, NOT_FETCHED} from './PostTypes.js';\r\n\r\n\r\nexport const creating=(post)=>{\r\n  \r\n      return function (dispatch,getState) {\r\n          //const check=getState();\r\n          //console.log(\"check \",check);\r\n          const {AuthReducer :{ token}}=getState();\r\n          //console.log(token);\r\n          dispatch(create());\r\n          var config = {\r\n            method: 'post',\r\n            url: 'http://localhost:5000/post/createpost',\r\n            headers: { \r\n             Authorization: `Bearer ${token}`,\r\n             'Content-Type': 'multipart/form-data'\r\n             \r\n            },\r\n            data : post\r\n          };\r\n      \r\n          axios(config).then(function (response) { \r\n            console.log(\"response:\",response);\r\n            dispatch(createdone(response.data.message));\r\n          })\r\n         \r\n          .catch(function (error) {\r\n            \r\n            console.log(\"errors are:\",error.response);\r\n           dispatch(createerror(error.response.data.errors));\r\n          });\r\n\r\n\r\n      }\r\n\r\n}\r\n\r\nexport const myposts=(id)=>{\r\n    return function async(dispatch,getState) {\r\n     \r\n        const {AuthReducer :{ token}}=getState();\r\n        dispatch(getting());\r\n        var config = {\r\n            method: 'get',\r\n            url: `http://localhost:5000/post/myposts/${id}`,\r\n            headers: { \r\n                Authorization: `Bearer ${token}`,\r\n\r\n            }\r\n          };\r\n          \r\n          axios({\r\n            method: 'GET',\r\n            url: `http://localhost:5000/post/myposts/${id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        }).then(resp => {\r\n            console.log(resp.data);\r\n        }).catch(err => {\r\n            // Handle Error Here\r\n            console.error(err);\r\n        });\r\n          \r\n\r\n    }\r\n\r\n}\r\nconst create=()=>{\r\n    return{\r\n    type:CREATE_POST\r\n    }\r\n\r\n}\r\nconst createdone=(success)=>{\r\n    return {\r\n        type:POST_SUCCESS,\r\n        payload: success\r\n    }\r\n  \r\n}\r\nconst createerror=(error)=>{\r\n    return {\r\n        type:POST_ERROR,\r\n        payload: error\r\n    }\r\n\r\n}\r\nconst getting=()=>{\r\n\r\n    return{\r\n        type:GET_MYPOSTS\r\n        }\r\n}\r\nconst fetched=(posts)=>{\r\n    return {\r\n        type:FETCH_SUCCESS,\r\n        payload: posts\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}