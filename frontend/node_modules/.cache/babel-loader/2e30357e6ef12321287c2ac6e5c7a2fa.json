{"ast":null,"code":"import axios from 'axios';\nimport { SET_TOKEN, SIGN_UP, SIGNUP_DONE, SIGNUP_ERROR, LOGIN, LOGIN_ERROR, LOGIN_DONE } from './Actiontypes.js';\nexport const signingup = user => {\n  //console.log(user)\n  return function (dispatch) {\n    dispatch(signup());\n    var config = {\n      method: 'post',\n      url: 'http://localhost:5000/signup',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: user\n    };\n    axios(config).then(function (response) {\n      console.log(response);\n      dispatch(signupdone(response.data.message));\n    }).catch(function (error) {\n      console.log(error.response);\n      dispatch(signuperror(error.response.data.errors));\n    });\n  };\n};\nexport const login = user => {\n  //console.log(user);\n  return function (dispatch) {\n    dispatch(loging());\n    var config = {\n      method: 'post',\n      url: 'http://localhost:5000/login',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: user\n    };\n    axios(config).then(function (response) {\n      //console.log(response);\n      //console.log(\"data\",response.data.token);\n      localStorage.setItem('mytoken', response.data.token);\n      dispatch(logindone(response.data.message));\n      dispatch(settoken(response.data.token));\n    }).catch(function (error) {\n      console.log(error.response);\n      dispatch(loginerror(error.response.data.errors));\n    });\n  };\n};\n\nconst signup = () => {\n  return {\n    type: SIGN_UP\n  };\n};\n\nconst signupdone = success => {\n  return {\n    type: SIGNUP_DONE,\n    payload: success\n  };\n};\n\nconst signuperror = error => {\n  return {\n    type: SIGNUP_ERROR,\n    payload: error\n  };\n}; //login actions\n\n\nconst loging = () => {\n  return {\n    type: LOGIN\n  };\n};\n\nconst logindone = success => {\n  return {\n    type: LOGIN_DONE,\n    payload: success\n  };\n};\n\nconst loginerror = error => {\n  return {\n    type: LOGIN_ERROR,\n    payload: error\n  };\n};\n\nconst settoken = token => {\n  return {\n    type: SET_TOKEN,\n    payload: token\n  };\n};\n\nexport const logout = () => {\n  return {};\n};","map":{"version":3,"sources":["D:/data1/MERNblog/frontend/src/redux/actions/AuthAction.js"],"names":["axios","SET_TOKEN","SIGN_UP","SIGNUP_DONE","SIGNUP_ERROR","LOGIN","LOGIN_ERROR","LOGIN_DONE","signingup","user","dispatch","signup","config","method","url","headers","data","then","response","console","log","signupdone","message","catch","error","signuperror","errors","login","loging","localStorage","setItem","token","logindone","settoken","loginerror","type","success","payload","logout"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {SET_TOKEN,SIGN_UP,SIGNUP_DONE,SIGNUP_ERROR,LOGIN,LOGIN_ERROR,LOGIN_DONE} from './Actiontypes.js';\r\n\r\nexport const signingup=(user)=>{\r\n  //console.log(user)\r\n    return function (dispatch){\r\n        dispatch(signup())\r\n        var config = {\r\n            method: 'post',\r\n            url: 'http://localhost:5000/signup',\r\n            headers: { \r\n              'Content-Type': 'application/json'\r\n            },\r\n            data : user\r\n          };\r\n          \r\n          axios(config).then(function (response) {\r\n            console.log(response);\r\n            dispatch(signupdone(response.data.message));\r\n          }).catch(function (error) {\r\n            console.log(error.response);\r\n            dispatch(signuperror(error.response.data.errors))\r\n          });\r\n          \r\n\r\n    }\r\n}\r\n\r\nexport const login=(user) => {\r\n  //console.log(user);\r\n  return function(dispatch) {\r\n    dispatch(loging())\r\n    var config = {\r\n      method: 'post',\r\n      url: 'http://localhost:5000/login',\r\n      headers: { \r\n        'Content-Type': 'application/json'\r\n      },\r\n      data : user\r\n    };\r\n    \r\n    axios(config).then(function (response) {\r\n\r\n      //console.log(response);\r\n      //console.log(\"data\",response.data.token);\r\n      localStorage.setItem('mytoken',response.data.token);\r\n      dispatch(logindone(response.data.message));\r\n      dispatch(settoken(response.data.token));\r\n    }).catch(function (error) {\r\n      console.log(error.response);\r\n     dispatch(loginerror(error.response.data.errors))\r\n\r\n    });\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\nconst signup=()=>{\r\n    return{\r\n    type:SIGN_UP\r\n    }\r\n\r\n}\r\nconst signupdone=(success)=>{\r\n    return {\r\n        type:SIGNUP_DONE,\r\n        payload: success\r\n    }\r\n  \r\n}\r\nconst signuperror=(error)=>{\r\n    return {\r\n        type:SIGNUP_ERROR,\r\n        payload: error\r\n    }\r\n\r\n}\r\n//login actions\r\nconst loging=()=>{\r\n  return{\r\n  type:LOGIN\r\n  }\r\n\r\n}\r\nconst logindone=(success)=>{\r\n  return {\r\n      type:LOGIN_DONE,\r\n      payload: success\r\n  }\r\n\r\n}\r\nconst loginerror=(error)=>{\r\n  return {\r\n      type:LOGIN_ERROR,\r\n      payload: error\r\n  }\r\n\r\n}\r\nconst settoken=(token)=>{\r\n  return{\r\n    type:SET_TOKEN,\r\n    payload:token\r\n  }\r\n}\r\n\r\nexport const logout=()=>{\r\n  return{\r\n    \r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}