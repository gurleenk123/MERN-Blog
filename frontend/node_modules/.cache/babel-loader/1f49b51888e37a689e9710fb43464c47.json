{"ast":null,"code":"var _jsxFileName = \"D:\\\\data1\\\\MERNblog\\\\frontend\\\\src\\\\components\\\\MyPosts.js\",\n    _s = $RefreshSig$();\n\nimport { Helmet } from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport React, { useEffect } from \"react\";\nimport Footer from './Footer';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { REMOVE_REDIRECT } from '../redux/actions/PostTypes';\nimport { myposts, deletepost } from '../redux';\nimport { Card, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faEye } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Myposts() {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => state.AuthReducer);\n  const {\n    posts\n  } = useSelector(state => state.PostReducer);\n  const {\n    post_success,\n    del_success\n  } = useSelector(state => state.PostReducer);\n  const dispatch = useDispatch(); //console.log(\"posts are:\",posts);\n\n  const deleting = id => {\n    const confirm = window.confirm('Are you sure you want to delete');\n\n    if (confirm) {\n      dispatch(deletepost(id));\n      dispatch(myposts(user[0]._id));\n    }\n  };\n\n  useEffect(() => {\n    if (post_success) {\n      toast.success(post_success);\n      dispatch({\n        type: REMOVE_REDIRECT\n      });\n    }\n\n    dispatch(myposts(user[0]._id));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user ? null : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"My Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"MY POSTS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), posts.length > 0 ? posts.map(post => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '50%',\n            margin: '30px'\n          },\n          className: \"mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: process.env.PUBLIC_URL + `/images/${post.image}`,\n            style: {\n              height: '350px'\n            },\n            alt: \"mypic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'silver'\n              },\n              children: [\"Published \", moment(post.updatedAt).fromNow()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: post.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: post.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"info\",\n              style: {\n                margin: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faEye\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 52\n              }, this), \" Click To See Post\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: () => deleting(post._id),\n              children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faTrash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 64\n              }, this), \" Delete Post\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"You don't have posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Myposts, \"wwdFzyXEvo8fpHFZBWGcRenMIkk=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Myposts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Myposts\");","map":{"version":3,"sources":["D:/data1/MERNblog/frontend/src/components/MyPosts.js"],"names":["Helmet","useDispatch","useSelector","Redirect","React","useEffect","Footer","toast","Toaster","REMOVE_REDIRECT","myposts","deletepost","Card","Button","FontAwesomeIcon","faTrash","faEye","moment","Myposts","user","state","AuthReducer","posts","PostReducer","post_success","del_success","dispatch","deleting","id","confirm","window","_id","success","type","length","map","post","width","margin","process","env","PUBLIC_URL","image","height","color","updatedAt","fromNow","title","description"],"mappings":"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","sourcesContent":["import {Helmet} from 'react-helmet'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom'\r\nimport React, {useEffect} from \"react\";\r\nimport Footer from './Footer';\r\nimport toast,{Toaster} from 'react-hot-toast';\r\nimport {REMOVE_REDIRECT} from '../redux/actions/PostTypes';\r\nimport {myposts,deletepost} from '../redux';\r\nimport { Card,Button} from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash,faEye } from '@fortawesome/free-solid-svg-icons'\r\nimport moment from 'moment';\r\n\r\nexport default function Myposts(){\r\n    const {user }=useSelector(state=>state.AuthReducer);\r\n    const {posts}=useSelector(state=>state.PostReducer);\r\n    const {post_success,del_success} =useSelector(state=>state.PostReducer);\r\n    const dispatch = useDispatch();\r\n   \r\n    //console.log(\"posts are:\",posts);\r\n    const deleting=(id)=>{\r\n      const confirm=window.confirm('Are you sure you want to delete');\r\n      if(confirm)\r\n      {\r\n            dispatch(deletepost(id));\r\n            dispatch(myposts(user[0]._id));\r\n      }\r\n            \r\n        \r\n\r\n    }\r\n   \r\n    useEffect(()=>{\r\n\r\n        if(post_success)\r\n        {\r\n            toast.success(post_success) \r\n            dispatch({ type: REMOVE_REDIRECT})\r\n\r\n        }\r\n        dispatch(myposts(user[0]._id));\r\n    },[])\r\n  \r\n    return (\r\n        <>\r\n        {user ? null :<Redirect to=\"/\" /> }\r\n        \r\n        \r\n        <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>My Posts</title>\r\n            </Helmet>\r\n            <Toaster /><br/> \r\n            <h1>MY POSTS</h1>\r\n            { posts.length>0 ? \r\n                 \r\n               \r\n                 posts.map((post)=>{ \r\n                    return ( \r\n                        <>\r\n                        <Card style={{ width: '50%',margin: '30px'}} className=\"mx-auto\">\r\n\r\n  <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + `/images/${post.image}` } style={{height: '350px'}} alt=\"mypic\" />\r\n  <Card.Body>\r\n  <span style={{color:'silver'}}>Published {moment(post.updatedAt).fromNow()}</span>\r\n    <Card.Title><h1>{post.title}</h1></Card.Title>\r\n    <hr/>\r\n    <Card.Text>\r\n    <h3>{post.description}</h3>\r\n    </Card.Text>\r\n    <Button variant=\"info\" style={{margin:'20px'}}><FontAwesomeIcon icon={faEye} /> Click To See Post</Button>\r\n\r\n    <Button variant=\"danger\" onClick={()=>deleting(post._id)}> <FontAwesomeIcon icon={faTrash} /> Delete Post</Button>\r\n  </Card.Body>\r\n</Card>\r\n           \r\n           </>            \r\n            )})\r\n\r\n                :<><br/><h3><i>You don't have posts</i></h3></>\r\n            }\r\n           \r\n            <br/><br/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}