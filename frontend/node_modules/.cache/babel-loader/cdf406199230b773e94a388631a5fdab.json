{"ast":null,"code":"var _jsxFileName = \"D:\\\\data1\\\\MERNblog\\\\frontend\\\\src\\\\components\\\\MyPosts.js\",\n    _s = $RefreshSig$();\n\nimport { Helmet } from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport React, { useEffect, useState } from \"react\";\nimport Footer from './Footer';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { REMOVE_REDIRECT } from '../redux/actions/PostTypes';\nimport { myposts, deletepost } from '../redux';\nimport { Card, Button, Row, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faEye } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Myposts() {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => state.AuthReducer);\n  const {\n    posts\n  } = useSelector(state => state.PostReducer);\n  const {\n    post_success,\n    del_success\n  } = useSelector(state => state.PostReducer);\n  const dispatch = useDispatch();\n  const [currentPage, setcurrentPage] = useState(1);\n  const [itemsPerPage, setitemsPerPage] = useState(5); //console.log(\"posts are:\",posts);\n\n  const deleting = id => {\n    const confirm = window.confirm('Are you sure you want to delete');\n\n    if (confirm) {\n      dispatch(deletepost(id));\n      dispatch(myposts(user[0]._id));\n    }\n  };\n\n  const showing = slug => {};\n\n  useEffect(() => {\n    if (post_success) {\n      toast.success(post_success);\n      dispatch({\n        type: REMOVE_REDIRECT\n      });\n    }\n\n    dispatch(myposts(user[0]._id));\n  }, []);\n  useEffect(() => {\n    if (del_success) {\n      toast.success(del_success);\n      dispatch({\n        type: REMOVE_REDIRECT\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user ? null : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"My Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"MY POSTS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: posts.length > 0 ? posts.map(post => {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                width: '70%',\n                margin: 'auto',\n                height: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: process.env.PUBLIC_URL + `/images/${post.image}`,\n                style: {},\n                alt: \"mypic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'silver'\n                  },\n                  children: [\"Published \", moment(post.updatedAt).fromNow()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 3\n                }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: post.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: post.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 5\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"info\",\n                  onClick: () => showing(post.slug),\n                  style: {\n                    margin: '20px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faEye\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 86\n                  }, this), \" Click To See Post\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"danger\",\n                  onClick: () => deleting(post._id),\n                  children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faTrash\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 64\n                  }, this), \" Delete Post\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 5\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 3\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 24\n          }, this)\n        }, void 0, false);\n      }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"You don't have posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Myposts, \"hDpjoDSTEUPRZGq5bL5eln+GJW0=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Myposts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Myposts\");","map":{"version":3,"sources":["D:/data1/MERNblog/frontend/src/components/MyPosts.js"],"names":["Helmet","useDispatch","useSelector","Redirect","React","useEffect","useState","Footer","toast","Toaster","REMOVE_REDIRECT","myposts","deletepost","Card","Button","Row","Col","FontAwesomeIcon","faTrash","faEye","moment","Myposts","user","state","AuthReducer","posts","PostReducer","post_success","del_success","dispatch","currentPage","setcurrentPage","itemsPerPage","setitemsPerPage","deleting","id","confirm","window","_id","showing","slug","success","type","length","map","post","width","margin","height","process","env","PUBLIC_URL","image","color","updatedAt","fromNow","title","description"],"mappings":"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","sourcesContent":["import {Helmet} from 'react-helmet'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom'\r\nimport React, {useEffect,useState} from \"react\";\r\nimport Footer from './Footer';\r\nimport toast,{Toaster} from 'react-hot-toast';\r\nimport {REMOVE_REDIRECT} from '../redux/actions/PostTypes';\r\nimport {myposts,deletepost} from '../redux';\r\nimport { Card,Button,Row,Col} from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash,faEye } from '@fortawesome/free-solid-svg-icons'\r\nimport moment from 'moment';\r\n\r\nexport default function Myposts(){\r\n    const {user }=useSelector(state=>state.AuthReducer);\r\n    const {posts}=useSelector(state=>state.PostReducer);\r\n    const {post_success,del_success} =useSelector(state=>state.PostReducer);\r\n    const dispatch = useDispatch();\r\n    const [currentPage,setcurrentPage]=useState(1);\r\n    const [itemsPerPage,setitemsPerPage]=useState(5);\r\n   \r\n    //console.log(\"posts are:\",posts);\r\n    const deleting=(id)=>{\r\n      const confirm=window.confirm('Are you sure you want to delete');\r\n      if(confirm)\r\n      {\r\n            dispatch(deletepost(id));\r\n            dispatch(myposts(user[0]._id));       \r\n      }\r\n    \r\n    }\r\n    const showing=(slug)=>{\r\n        \r\n    }\r\n   \r\n    useEffect(()=>{\r\n\r\n        if(post_success)\r\n        {\r\n            toast.success(post_success) \r\n            dispatch({ type: REMOVE_REDIRECT})\r\n\r\n        }\r\n     \r\n        dispatch(myposts(user[0]._id));\r\n    },[])\r\n    useEffect(()=>{\r\n        if(del_success)\r\n        {\r\n            toast.success(del_success) \r\n            dispatch({ type: REMOVE_REDIRECT})\r\n\r\n        }\r\n\r\n    },[])\r\n  \r\n    return (\r\n        <>\r\n        {user ? null :<Redirect to=\"/\" /> }\r\n        \r\n        \r\n        <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>My Posts</title>\r\n            </Helmet>\r\n            <Toaster /><br/> \r\n            <h1>MY POSTS</h1>\r\n         <Row>\r\n            { posts.length>0 ? \r\n                 \r\n               \r\n                 posts.map((post)=>{ \r\n                    return ( \r\n                        <>\r\n                       \r\n                       <Col >\r\n                        <Card style={{width:'70%',margin:'auto',height:'100%'}} >\r\n\r\n  <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + `/images/${post.image}` } style={{}} alt=\"mypic\" />\r\n  <Card.Body>\r\n  <span style={{color:'silver'}}>Published {moment(post.updatedAt).fromNow()}</span>\r\n    <Card.Title><h1>{post.title}</h1></Card.Title>\r\n    <hr/>\r\n    <Card.Text>\r\n    <h3>{post.description}</h3>\r\n    </Card.Text>\r\n    <Button variant=\"info\" onClick={()=>showing(post.slug)}  style={{margin:'20px'}}><FontAwesomeIcon icon={faEye} /> Click To See Post</Button>\r\n\r\n    <Button variant=\"danger\" onClick={()=>deleting(post._id)}> <FontAwesomeIcon icon={faTrash} /> Delete Post</Button>\r\n  </Card.Body>\r\n</Card>\r\n</Col>\r\n\r\n           </>            \r\n            )})\r\n\r\n                :<><br/><h3 style={{margin:'auto'}}><i>You don't have posts</i></h3></>\r\n            }\r\n\r\n            </Row>\r\n            \r\n        \r\n           \r\n            <br/><br/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}